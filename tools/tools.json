{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "version": "1.0.0",
  "description": "Tool registry for obsidian-tools. Each tool is a standalone Python script.",
  "tools": {
    "fetch_youtube": {
      "name": "fetch_youtube",
      "description": "Fetches transcript from a YouTube video",
      "script": "fetch_youtube.py",
      "inputs": {
        "url": {
          "type": "string",
          "required": true,
          "description": "YouTube URL or video ID",
          "cli_arg": "--url",
          "examples": [
            "https://youtube.com/watch?v=dQw4w9WgXcQ",
            "https://youtu.be/dQw4w9WgXcQ",
            "dQw4w9WgXcQ"
          ]
        },
        "output": {
          "type": "string",
          "required": false,
          "default": "json",
          "description": "Output format",
          "cli_arg": "--output",
          "enum": ["json"]
        }
      },
      "outputs": {
        "success": {
          "type": "boolean",
          "description": "Whether the operation succeeded"
        },
        "video_id": {
          "type": "string",
          "description": "Extracted YouTube video ID"
        },
        "url": {
          "type": "string",
          "description": "Canonical YouTube URL"
        },
        "transcript": {
          "type": "array",
          "description": "Array of transcript segments",
          "items": {
            "type": "object",
            "properties": {
              "text": {
                "type": "string",
                "description": "Transcript text"
              },
              "start": {
                "type": "number",
                "description": "Start time in seconds"
              },
              "duration": {
                "type": "number",
                "description": "Duration in seconds"
              }
            }
          }
        },
        "full_text": {
          "type": "string",
          "description": "Complete transcript as single string"
        },
        "language": {
          "type": "string",
          "description": "Transcript language code"
        },
        "error": {
          "type": "string",
          "description": "Error message (only on failure)"
        },
        "error_code": {
          "type": "string",
          "description": "Machine-readable error code (only on failure)",
          "enum": ["INVALID_URL", "TRANSCRIPT_DISABLED", "NO_TRANSCRIPT", "VIDEO_NOT_FOUND", "NETWORK_ERROR"]
        }
      },
      "exit_codes": {
        "0": "Success",
        "1": "Error (details in JSON output)"
      },
      "usage": "python tools/fetch_youtube.py --url \"<youtube_url>\" [--output json]"
    }
  }
}
